{"ast":null,"code":"import _slicedToArray from\"/home/user/Phase-3/My-App-Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import Search from\"./Search\";import Allmovies from\"./Allmovies\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];function handleDeleteMovie(id){var updatedMovies=movies.filter(function(movie){return movie.id!==id;});setMovies(updatedMovies);}useEffect(function(){fetch(\"\".concat(process.env.REACT_APP_BASE_URL).concat(\"/movies\")).then(function(response){return response.json();}).then(function(data){return setMovies(data);});},[]);function handleSearch(query){fetch(\"\".concat(process.env.REACT_APP_BASE_URL).concat(\"/search?query=\".concat(query))).then(function(response){return response.json();}).then(function(results){setMovies(results);navigate(\"/dashboard\");});}return/*#__PURE__*/_jsxs(\"div\",{className:\"dash\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar bg-dark\",\"data-bs-theme\":\"dark\",children:[/*#__PURE__*/_jsx(Link,{className:\"movie-link\",to:\"/addmovie\",children:\"Add Movie\"}),/*#__PURE__*/_jsx(Search,{onSearch:handleSearch})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Allmovies,{movies:movies,handleDeleteMovie:handleDeleteMovie})})]});}export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","Search","Allmovies","jsx","_jsx","jsxs","_jsxs","Dashboard","navigate","_useState","_useState2","_slicedToArray","movies","setMovies","handleDeleteMovie","id","updatedMovies","filter","movie","fetch","concat","process","env","REACT_APP_BASE_URL","then","response","json","data","handleSearch","query","results","className","children","to","onSearch"],"sources":["/home/user/Phase-3/My-App-Frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Search from \"./Search\";\nimport Allmovies from \"./Allmovies\";\n\n\nfunction Dashboard() {\n\n    const navigate = useNavigate()\n    const [movies, setMovies] = useState([])\n\n  function handleDeleteMovie(id) {\n    const updatedMovies = movies.filter((movie) => movie.id !== id);\n    setMovies(updatedMovies);\n  }\n\n    useEffect(() => {\n    fetch(`${process.env.REACT_APP_BASE_URL}`.concat(\"/movies\"))\n    .then((response) => response.json())\n    .then((data) => setMovies(data))\n    }, [])\n\n    function handleSearch(query) {\n    fetch(`${process.env.REACT_APP_BASE_URL}`.concat(`/search?query=${query}`))\n    .then((response) => response.json())\n    .then((results) => {\n      setMovies(results)\n      navigate(\"/dashboard\")\n    })\n    }\n\n    return(\n        <div className=\"dash\">\n        <nav className=\"navbar bg-dark\" data-bs-theme=\"dark\">\n            <Link className=\"movie-link\" to=\"/addmovie\">Add Movie</Link>\n            <Search onSearch={handleSearch}/>\n        </nav>\n        <div>\n          <Allmovies movies={movies} handleDeleteMovie={handleDeleteMovie}/>\n        </div>\n        </div>\n\n\n    )\n}\n\nexport default Dashboard"],"mappings":"wHAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,SAAS,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGpC,QAAS,CAAAC,SAASA,CAAA,CAAG,CAEjB,GAAM,CAAAC,QAAQ,CAAGR,WAAW,EAAE,CAC9B,IAAAS,SAAA,CAA4BZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IAE1B,QAAS,CAAAI,iBAAiBA,CAACC,EAAE,CAAE,CAC7B,GAAM,CAAAC,aAAa,CAAGJ,MAAM,CAACK,MAAM,CAAC,SAACC,KAAK,QAAK,CAAAA,KAAK,CAACH,EAAE,GAAKA,EAAE,GAAC,CAC/DF,SAAS,CAACG,aAAa,CAAC,CAC1B,CAEElB,SAAS,CAAC,UAAM,CAChBqB,KAAK,CAAC,GAAAC,MAAA,CAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,EAAGH,MAAM,CAAC,SAAS,CAAC,CAAC,CAC3DI,IAAI,CAAC,SAACC,QAAQ,QAAK,CAAAA,QAAQ,CAACC,IAAI,EAAE,GAAC,CACnCF,IAAI,CAAC,SAACG,IAAI,QAAK,CAAAd,SAAS,CAACc,IAAI,CAAC,GAAC,CAChC,CAAC,CAAE,EAAE,CAAC,CAEN,QAAS,CAAAC,YAAYA,CAACC,KAAK,CAAE,CAC7BV,KAAK,CAAC,GAAAC,MAAA,CAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,EAAGH,MAAM,kBAAAA,MAAA,CAAkBS,KAAK,EAAG,CAAC,CAC1EL,IAAI,CAAC,SAACC,QAAQ,QAAK,CAAAA,QAAQ,CAACC,IAAI,EAAE,GAAC,CACnCF,IAAI,CAAC,SAACM,OAAO,CAAK,CACjBjB,SAAS,CAACiB,OAAO,CAAC,CAClBtB,QAAQ,CAAC,YAAY,CAAC,CACxB,CAAC,CAAC,CACF,CAEA,mBACIF,KAAA,QAAKyB,SAAS,CAAC,MAAM,CAAAC,QAAA,eACrB1B,KAAA,QAAKyB,SAAS,CAAC,gBAAgB,CAAC,gBAAc,MAAM,CAAAC,QAAA,eAChD5B,IAAA,CAACL,IAAI,EAACgC,SAAS,CAAC,YAAY,CAACE,EAAE,CAAC,WAAW,CAAAD,QAAA,CAAC,WAAS,EAAO,cAC5D5B,IAAA,CAACH,MAAM,EAACiC,QAAQ,CAAEN,YAAa,EAAE,GAC/B,cACNxB,IAAA,QAAA4B,QAAA,cACE5B,IAAA,CAACF,SAAS,EAACU,MAAM,CAAEA,MAAO,CAACE,iBAAiB,CAAEA,iBAAkB,EAAE,EAC9D,GACA,CAId,CAEA,cAAe,CAAAP,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}